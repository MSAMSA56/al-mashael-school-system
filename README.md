# نظام إدارة مدرسة المشاعل الأهلية للبنين

نظام متكامل وحديث لإدارة العملية التعليمية بمدرسة المشاعل الأهلية للبنين، يوفر واجهات مستخدم متقدمة لكل من الطلاب والمعلمين والإداريين والمديرين.

## الميزات الرئيسية

### 1. نظام المصادقة والأمان
- تسجيل دخول آمن لأربع أدوار مختلفة (طالب، معلم، إداري، مدير)
- تشفير كلمات المرور باستخدام bcryptjs
- توكنات JWT للمصادقة الآمنة
- فصل كامل بين قواعد البيانات لكل دور

### 2. لوحة تحكم الطالب
- عرض الواجبات والاختبارات المخصصة
- تتبع حالة تسليم الواجبات والاختبارات
- عرض الجدول الزمني مع إمكانية التكبير والتصغير
- التواصل مع المعلمين
- عرض قائمة المعلمين وطرق التواصل معهم
- تقارير الحضور والغياب الشخصية
- نظام الرسائل

### 3. لوحة تحكم المعلم
- إنشاء وإدارة الواجبات
- إنشاء وإدارة الاختبارات
- تسجيل الحضور والغياب
- عرض قائمة الطلاب في كل فصل
- إدارة الجدول الزمني
- التواصل مع الطلاب والإداريين

### 4. لوحة تحكم الإداري
- إدارة المستخدمين
- إنشاء الفصول والمراحل الدراسية
- إنشاء المواد الدراسية
- تسجيل الحضور والغياب
- عرض التقارير التحليلية
- إدارة البيانات الأساسية للمدرسة

### 5. لوحة تحكم المدير
- جدولة الاجتماعات مع المعلمين والإداريين
- إرسال الإشعارات والتنبيهات
- عرض التحليلات والإحصائيات
- إدارة الإعدادات العامة للنظام
- واجهة مميزة برمز النجمة الذهبية

### 6. ميزات إضافية
- دعم اللغة العربية بشكل كامل
- نمط داكن ونمط فاتح
- واجهة مستجيبة تعمل على جميع الأجهزة
- نظام الرسائل المباشرة
- تقارير شاملة وتحليلات متقدمة

## المتطلبات

- Node.js 16 أو أحدث
- PostgreSQL 12 أو أحدث
- npm أو yarn

## التثبيت

### 1. استنساخ المستودع
```bash
git clone <repository-url>
cd al-mashael-school-system
```

### 2. تثبيت المكتبات
```bash
npm install
```

### 3. إعداد متغيرات البيئة
أنشئ ملف `.env` في جذر المشروع:
```env
DATABASE_URL=postgresql://username:password@localhost:5432/al_mashael_school
JWT_SECRET=your_jwt_secret_key_change_this_in_production
PORT=3000
NODE_ENV=development
VITE_API_URL=http://localhost:3000
```

### 4. إعداد قاعدة البيانات
```bash
npm run db:generate
npm run db:push
```

### 5. تشغيل التطبيق
```bash
npm run dev
```

سيتم تشغيل الخادم على `http://localhost:3000` والواجهة الأمامية على `http://localhost:5173`

## حسابات تجريبية

يمكنك استخدام الحسابات التالية للاختبار:

| الدور | البريد الإلكتروني | كلمة المرور |
|------|-----------------|-----------|
| طالب | ahmed@almashaeel.edu.sa | password123 |
| معلم | khalid@almashaeel.edu.sa | password123 |
| إداري | admin@almashaeel.edu.sa | password123 |
| مدير | director@almashaeel.edu.sa | password123 |

## هيكل المشروع

```
al-mashael-school-system/
├── src/
│   ├── server/          # الكود الخلفي (Express)
│   │   └── index.ts     # نقطة الدخول للخادم
│   ├── client/          # الكود الأمامي (React)
│   │   ├── pages/       # صفحات التطبيق
│   │   ├── store/       # متاجر Zustand
│   │   └── styles/      # ملفات CSS
│   └── db/              # قاعدة البيانات
│       └── schema.ts    # تعريف الجداول والعلاقات
├── index.html           # الملف الرئيسي للواجهة الأمامية
├── vite.config.ts       # إعدادات Vite
├── tsconfig.json        # إعدادات TypeScript
└── package.json         # المكتبات والسكريبتات
```

## الأوامر المتاحة

- `npm run dev` - تشغيل الخادم والعميل معاً في وضع التطوير
- `npm run server:dev` - تشغيل الخادم فقط
- `npm run client:dev` - تشغيل الواجهة الأمامية فقط
- `npm run build` - بناء التطبيق للإنتاج
- `npm run preview` - معاينة الإصدار الإنتاجي
- `npm run db:generate` - توليد ملفات الهجرة
- `npm run db:push` - دفع التغييرات إلى قاعدة البيانات
- `npm run db:migrate` - تنفيذ الهجرات
- `npm run db:studio` - فتح واجهة Drizzle Studio

## التكنولوجيا المستخدمة

### الواجهة الأمامية
- React 18
- React Router v6
- Zustand (إدارة الحالة)
- Axios (طلبات HTTP)
- CSS3 (تصميم متقدم)

### الواجهة الخلفية
- Express.js
- TypeScript
- PostgreSQL
- Drizzle ORM
- JWT للمصادقة
- bcryptjs لتشفير كلمات المرور

## الأمان

- تشفير كلمات المرور باستخدام bcryptjs
- توكنات JWT للمصادقة
- التحقق من الأدوار والصلاحيات
- CORS محدد
- متغيرات البيئة للبيانات الحساسة

## المساهمة

نرحب بالمساهمات! يرجى اتباع الخطوات التالية:

1. Fork المستودع
2. أنشئ فرع جديد (`git checkout -b feature/AmazingFeature`)
3. قم بالتعديلات (`git commit -m 'Add some AmazingFeature'`)
4. Push إلى الفرع (`git push origin feature/AmazingFeature`)
5. افتح Pull Request

## الترخيص

هذا المشروع مرخص تحت MIT License - انظر ملف LICENSE للتفاصيل.

## الدعم

للمساعدة والدعم، يرجى فتح issue في المستودع أو التواصل معنا مباشرة.

## الملاحظات

- تأكد من أن قاعدة البيانات PostgreSQL تعمل قبل بدء التطبيق
- غير `JWT_SECRET` في الإنتاج
- استخدم متغيرات البيئة الآمنة للبيانات الحساسة
- قم بتحديث حسابات التجربة قبل النشر في الإنتاج

---

تم تطوير هذا النظام بواسطة فريق تطوير متخصص لتوفير أفضل تجربة إدارة تعليمية.
